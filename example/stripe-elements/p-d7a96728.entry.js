import{r as t,c as s,h as e,H as i,d as n}from"./p-e4c324f8.js";import{l as r}from"./p-f5773f0b.js";const a=class{constructor(e){t(this,e),this.stripeLoaded=s(this,"stripeLoaded",7),this.loadStripeStatus="",this.publishableKey?this.initStripe(this.publishableKey):this.loadStripeStatus="failure"}stripeLoadedEventHandler(){const t={stripe:this.stripe};this.stripeDidLoaded&&this.stripeDidLoaded(t),this.stripeLoaded.emit(t)}async setPaymentRequestOption(t){return this.paymentRequestOption=t,this}async initStripe(t){this.loadStripeStatus="loading",r(t).then((t=>{this.loadStripeStatus="success",this.stripe=t})).catch((t=>{console.log(t),this.loadStripeStatus="failure"})).then((()=>{if(this.stripe)return this.initElement()})).then((()=>{this.stripe&&this.stripeLoadedEventHandler()}))}async initElement(){const t=this.stripe.elements(),s=this.stripe.paymentRequest(this.paymentRequestOption),e=t.create("paymentRequestButton",{paymentRequest:s}),i=document.getElementById("payment-request-button");await s.canMakePayment()&&(e.mount(i),document.getElementById("payment-request").classList.add("visible"))}render(){return e(i,null,e("div",{id:"payment-request"},e("div",{id:"payment-request-button"})),e("slot",null))}get el(){return n(this)}};a.style=":host{display:block}";export{a as stripe_payment_request_button}